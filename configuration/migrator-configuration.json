{
  "Version": "0.0",
  "LogLevel": "Debug",
  "MappingTools": [
    {
      "$type": "WorkItemTypeMappingTool",
      "Enabled": true,
      "WorkItemTypeDefinition": {
        "sourceWorkItemTypeName": "targetWorkItemTypeName"
      }
    },
    {
      "$type": "WorkItemFieldMappingTool",
      "Enabled": true,
      "WorkItemFieldMaps": [
        {
          "$type": "MultiValueConditionalMapConfig",
          "WorkItemTypeName": "*",
          "sourceFieldsAndValues": {
            "Field1": "Value1",
            "Field2": "Value2"
          },
          "targetFieldsAndValues": {
            "Field1": "Value1",
            "Field2": "Value2"
          }
        },
        {
          "$type": "FieldSkipMapConfig",
          "WorkItemTypeName": "*",
          "targetField": "TfsMigrationTool.ReflectedWorkItemId"
        },
        {
          "$type": "FieldValueMapConfig",
          "WorkItemTypeName": "*",
          "sourceField": "System.State",
          "targetField": "System.State",
          "defaultValue": "New",
          "valueMapping": {
            "Approved": "New",
            "New": "New",
            "Committed": "Active",
            "In Progress": "Active",
            "To Do": "New",
            "Done": "Closed",
            "Removed": "Removed"
          }
        },
        {
          "$type": "FieldtoFieldMapConfig",
          "WorkItemTypeName": "*",
          "sourceField": "Microsoft.VSTS.Common.BacklogPriority",
          "targetField": "Microsoft.VSTS.Common.StackRank"
        },
        {
          "$type": "FieldtoFieldMultiMapConfig",
          "WorkItemTypeName": "*",
          "SourceToTargetMappings": {
            "SourceField1": "TargetField1",
            "SourceField2": "TargetField2"
          }
        },
        {
          "$type": "FieldtoTagMapConfig",
          "WorkItemTypeName": "*",
          "sourceField": "System.State",
          "formatExpression": "ScrumState:{0}"
        },
        {
          "$type": "FieldMergeMapConfig",
          "WorkItemTypeName": "*",
          "sourceField1": "System.Description",
          "sourceField2": "Microsoft.VSTS.Common.AcceptanceCriteria",
          "targetField": "System.Description",
          "formatExpression": "{0} <br/><br/><h3>Acceptance Criteria</h3>{1}",
          "doneMatch": "##DONE##"
        },
        {
          "$type": "RegexFieldMapConfig",
          "WorkItemTypeName": "*",
          "sourceField": "COMPANY.PRODUCT.Release",
          "targetField": "COMPANY.DEVISION.MinorReleaseVersion",
          "pattern": "PRODUCT \\d{4}.(\\d{1})",
          "replacement": "$1"
        },
        {
          "$type": "FieldValuetoTagMapConfig",
          "WorkItemTypeName": "*",
          "sourceField": "Microsoft.VSTS.CMMI.Blocked",
          "pattern": "Yes",
          "formatExpression": "{0}"
        },
        {
          "$type": "TreeToTagMapConfig",
          "WorkItemTypeName": "*",
          "toSkip": 3,
          "timeTravel": 1
        }
      ]
    },
    {
      "$type": "WorkItemGitRepoMappingTool",
      "Enabled": true,
      "WorkItemGitRepos": {
        "sourceRepoName": "targetRepoName"
      }
    }
  ],
  "Endpoints": {
    "TfsWorkItemEndpoints": [
      {
        "Name": "WorkItemSource",
        "AccessToken": null,
        "Query": {
          "Query": "SELECT [System.Id], [System.Tags] FROM WorkItems WHERE [System.TeamProject] = @TeamProject AND [System.WorkItemType] NOT IN ('Test Suite', 'Test Plan') ORDER BY [System.ChangedDate] desc",
          "Parameters": {
            "TeamProject": "Sample-Project"
          }
        },
        "Organisation": "https://dev.azure.com/Source-Org/",
        "Project": "Sample-Project",
        "ReflectedWorkItemIdField": "Custom.ReflectedWorkItemId",
        "AllowCrossProjectLinking": false,
        "PersonalAccessToken": null,
        "LanguageMaps": {
          "AreaPath": "Area",
          "IterationPath": "Iteration"
        }
      },
      {
        "Name": "WorkItemTarget",
        "AccessToken": null,
        "Query": {
          "Query": "SELECT [System.Id], [System.Tags] FROM WorkItems WHERE [System.TeamProject] = @TeamProject AND [System.WorkItemType] NOT IN ('Test Suite', 'Test Plan') ORDER BY [System.ChangedDate] desc"
        },
        "Organisation": "https://dev.azure.com/Target-Org/",
        "Project": "Sample-Project-migrated",
        "ReflectedWorkItemIdField": "Custom.ReflectedWorkItemId",
        "AllowCrossProjectLinking": false,
        "PersonalAccessToken": null,
        "LanguageMaps": {
          "AreaPath": "Area",
          "IterationPath": "Iteration"
        }
      }
    ],
    "TfsTeamSettingsEndpoints": [
      {
        "$type": "TfsTeamSettingsEndpointOptions",
        "Name": "TeamSettingsSource",
        "Direction": "Source",
        "Organisation": "https://dev.azure.com/Source-Org/",
        "Project": "Sample-Project",
        "AccessToken": null,
        "ReflectedWorkItemIdField": "Custom.ReflectedItemId",
        "LanguageMaps": {
          "$type": "TfsLanguageMapOptions",
          "AreaPath": "Area",
          "IterationPath": "Iteration"
        },
        "EndpointEnrichers": null
      },
      {
        "$type": "TfsTeamSettingsEndpointOptions",
        "Name": "TeamSettingsTarget",
        "Direction": "Target",
        "Organisation": "https://dev.azure.com/Target-Org/",
        "Project": "Sample-Project-migrated",
        "AccessToken": null,
        "ReflectedWorkItemIdField": "Custom.ReflectedItemId",
        "LanguageMaps": {
          "$type": "TfsLanguageMapOptions",
          "AreaPath": "Area",
          "IterationPath": "Iteration"
        },
        "EndpointEnrichers": null
      }
    ],
    "TfsEndpoints": [
      {
        "Name": "tfsSource",
        "Organisation": "https://dev.azure.com/Source-Org/",
        "Project": "Sample-Project",
        "AuthenticationMode": "AccessToken",
        "AccessToken": null,
        "ReflectedWorkItemIdField": "Custom.ReflectedWorkItemId",
        "LanguageMaps": {
          "AreaPath": "Area",
          "IterationPath": "Iteration"
        },
        "EndpointEnrichers": null
      },
      {
        "Name": "tfsTarget",
        "Organisation": "https://dev.azure.com/Target-Org/",
        "Project": "Sample-Project-migrated",
        "AuthenticationMode": "AccessToken",
        "AccessToken": null,
        "ReflectedWorkItemIdField": "Custom.ReflectedWorkItemId",
        "LanguageMaps": {
          "AreaPath": "Area",
          "IterationPath": "Iteration"
        },
        "EndpointEnrichers": null
      }
    ],
    "AzureDevOpsEndpoints": [
      {
        "name": "PipelineSource",
        "$type": "AzureDevOpsEndpointOptions",
        "Organisation": "https://dev.azure.com/Source-Org/",
        "Project": "Sample-Project",
        "AuthenticationMode": "AccessToken",
        "AccessToken": null,
        "EndpointEnrichers": null
      },
      {
        "Name": "PipelineTarget",
        "$type": "AzureDevOpsEndpointOptions",
        "Organisation": "https://dev.azure.com/Target-Org/",
        "Project": "Sample-Project-migrated",
        "AuthenticationMode": "AccessToken",
        "AccessToken": null,
        "EndpointEnrichers": null
      }
    ]
  },
  "Source": {
    "$type": "TfsTeamProjectConfig",
    "Collection": "https://dev.azure.com/Source-Org/",
    "Project": "Sample-Project",
    "ReflectedWorkItemIDFieldName": "Custom.ReflectedWorkItemId",
    "AuthenticationMode": "AccessToken",
    "AllowCrossProjectLinking": false,
    "PersonalAccessToken": null,
    "LanguageMaps": {
      "AreaPath": "Area",
      "IterationPath": "Iteration"
    }
  },
  "Target": {
    "$type": "TfsTeamProjectConfig",
    "Collection": "https://dev.azure.com/Target-Org/",
    "Project": "Sample-Project-migrated",
    "ReflectedWorkItemIDFieldName": "Custom.ReflectedWorkItemId",
    "AuthenticationMode": "AccessToken",
    "AllowCrossProjectLinking": false,
    "PersonalAccessToken": null,
    "LanguageMaps": {
      "AreaPath": "Area",
      "IterationPath": "Iteration"
    }
  },
  "CommonEnrichersConfig": [
    {
      "$type": "TfsNodeStructureOptions",
      "Enabled": true,
      "PrefixProjectToNodes": false,
      "NodeBasePaths": [],
      "AreaMaps": {},
      "IterationMaps": {},
      "ShouldCreateMissingRevisionPaths": true
    }
  ],
  "Processors": [
    {
      "$type": "TfsAreaAndIterationProcessorOptions",
      "Enabled": false,
      "PrefixProjectToNodes": false,
      "NodeBasePaths": null,
      "AreaMaps": {},
      "IterationMaps": {},
      "ProcessorEnrichers": null,
      "SourceName": "WorkItemSource",
      "TargetName": "WorkItemTarget"
    },
    {
      "$type": "TfsTeamSettingsProcessorOptions",
      "Enabled": false,
      "MigrateTeamSettings": true,
      "UpdateTeamSettings": false,
      "PrefixProjectToNodes": false,
      "MigrateTeamCapacities": false,
      "Teams": null,
      "ProcessorEnrichers": null,
      "SourceName": "TeamSettingsSource",
      "TargetName": "TeamSettingsTarget"
    },
    {
      "$type": "TestVariablesMigrationConfig",
      "Enabled": false
    },
    {
      "$type": "TestConfigurationsMigrationConfig",
      "Enabled": false
    },
    {
      "$type": "TestPlansAndSuitesMigrationConfig",
      "Enabled": false,
      "PrefixProjectToNodes": false,
      "OnlyElementsWithTag": null,
      "TestPlanQueryBit": null,
      "RemoveAllLinks": false,
      "MigrationDelay": 0,
      "UseCommonNodeStructureEnricherConfig": true,
      "NodeBasePaths": [],
      "AreaMaps": {},
      "IterationMaps": {},
      "RemoveInvalidTestSuiteLinks": false,
      "FilterCompleted": false
    },
    {
      "$type": "TfsSharedQueryProcessorOptions",
      "Enabled": false,
      "PrefixProjectToNodes": false,
      "SharedFolderName": "Shared Queries",
      "SourceToTargetFieldMappings": null,
      "ProcessorEnrichers": null,
      "SourceName": "tfsSource",
      "TargetName": "tfsTarget"
    },
    {
      "$type": "AzureDevOpsPipelineProcessorOptions",
      "Enabled": false,
      "MigrateBuildPipelines": false,
      "MigrateReleasePipelines": false,
      "MigrateTaskGroups": false,
      "MigrateVariableGroups": false,
      "MigrateServiceConnections": false,
      "BuildPipelines": null,
      "ReleasePipelines": null,
      "RepositoryNameMaps": null,
      "ProcessorEnrichers": null,
      "SourceName": "PipelineSource",
      "TargetName": "PipelineTarget"
    },
    {
      "$type": "WorkItemMigrationConfig",
      "Enabled": false,
      "ReplayRevisions": false,
      "PrefixProjectToNodes": false,
      "UpdateCreatedDate": true,
      "UpdateCreatedBy": true,
      "BuildFieldTable": true,
      "WIQLQueryBit": "AND [System.WorkItemType] NOT IN ('Test Suite','Test Plan','Shared Steps','Shared Parameter','Feedback Request') ",
      "WIQLOrderBit": "[System.ChangedDate] desc",
      "LinkMigration": true,
      "AttachmentMigration": true,
      "AttachmentWorkingPath": "c:\\temp\\WorkItemAttachmentWorkingFolder\\",
      "FixHtmlAttachmentLinks": true,
      "SkipToFinalRevisedWorkItemType": true,
      "WorkItemCreateRetryLimit": 5,
      "FilterWorkItemsThatAlreadyExistInTarget": false,
      "PauseAfterEachWorkItem": false,
      "AttachmentMaxSize": 480000000,
      "AttachRevisionHistory": true,
      "LinkMigrationSaveEachAsAdded": false,
      "GenerateMigrationComment": true,
      "WorkItemIDs": null,
      "MaxRevisions": 0,
      "UseCommonNodeStructureEnricherConfig": true,
      "StopMigrationOnMissingAreaIterationNodes": false,
      "NodeBasePaths": [],
      "AreaMaps": {
        "Sample-project": "Sample-Project-migrated"
      },
      "IterationMaps": {
        "Sample-project": "Sample-Project-migrated"
      },
      "MaxGracefulFailures": 0,
      "SkipRevisionWithInvalidIterationPath": true,
      "SkipRevisionWithInvalidAreaPath": true
    }
  ]
}
